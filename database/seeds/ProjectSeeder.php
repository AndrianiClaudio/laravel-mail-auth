<?php

use Illuminate\Database\Seeder;
use App\Project;
use App\Technology;

class ProjectSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        $ms__p = [
            [
                'name' => "htmlcss-hello",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-london-trip",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-booleaner",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-toboolist",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "htmlcss-struttura-wp",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "htmlcss-wp",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-boolando",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "htmlcss-shoes",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "htmlcss-discord",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-animation-filter",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "htmlcss-dropbox",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-resp-wannabe",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-spotifyweb",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-12bool",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "js-pwdgen-wannabe",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-biglietto-treno",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "html-css-zoom",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "html-css-bootstrap-freelancer",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "js-hamburger",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-fizzbuzzdom",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-mail-dadi",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-array-carousel",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "htmlcss-playstation",
                'technologies' => [
                    'HTML','CSS'
                ],
            ],
            [
                'name' => "js-jsnacks-blocco-1",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-paliedispari",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-jsnacks-blocco-2",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-campominato-grid",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-campominato-dom",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-simon",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-our-team",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-jsnacks-blocco-5",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-social-posts",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-es6-icons",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "js-snack-es6",
                'technologies' => [
                    'JS'
                ],
            ],
            [
                'name' => "vue-hello",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-slider",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-todolist",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-email-list",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-cli-first",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-dc-comics",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-dischi",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-boolflix",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "vue-boolzapp",
                'technologies' => [
                    'VUE'
                ],
            ],
            [
                'name' => "proj-html-vuejs",
                'technologies' => [
                    'HTML','CSS', 'JS'
                ],
            ],
            [
                'name' => "php-badwords",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "php-snacks-blocco-1",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "snack-01-02-2022",
                'technologies' => [
                    //
                ],
            ],
            [
                'name' => "php-google-faq",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "php-ajax-dischi",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "snack",
                'technologies' => [
                    // 
                ],
            ],
            [
                'name' => "db-first",
                'technologies' => [
                    // 
                ],
            ],
            [
                'name' => "php-snacks-b1",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "db-university",
                'technologies' => [
                    'SQL'
                ],
            ],
            [
                'name' => "laravel-primi-passi",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
            [
                'name' => "laravel-comics",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
            [
                'name' => "php-oop-1",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "php-oop-2",
                'technologies' => [
                    'PHP'
                ],
            ],
            [
                'name' => "laravel-model-controller",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
            [
                'name' => "laravel-migration-seeder",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
            [
                'name' => "laravel-base-crud",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
            [
                'name' => "laravel-boolpress",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
            [
                'name' => "laravel-mail-auth",
                'technologies' => [
                    'PHP','LARAVEL'
                ],
            ],
        ];

        foreach ($ms__p as $p) {
            // save a new project
            $newProject = new Project();
            $newProject->name = $p['name'];
            $newProject->url = "https://github.com/AndrianiClaudio/" . $p['name'];
            $newProject->screen = 'niente ancora';
            $newProject->save();


            // insert into pivot table project_technology
            $technologies = Technology::all()->toArray();
            $technology_names = [];
            foreach ($technologies as $tech) {
                $technology_names [] = $tech ['name'];
            }
            
            // cerca e trova id
            $toAttach = [];
            foreach ($p['technologies'] as $tech) {
                if(in_array($tech,$technology_names)) {
                    foreach (Technology::where('name',$tech)->get()->toArray() as $id) {
                        $toAttach [] = $id['id'];
                    }
                }
            }
            
            $newProject->technologies()->attach($toAttach);
        }
    }
}
